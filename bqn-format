#!/usr/bin/env bqn

c  â‡ â€¢Import "deps/color.bqn"
s  â‡ â€¢Import "deps/string.bqn"
fs â‡ â€¢Import "deps/file_system.bqn"

FormatSingleFile â† {
    l â† â€¢file.Lines ğ•©
    ğ•© â€¢file.Lines {(Â¬Â·âˆ§`âŒ¾âŒ½' 'âŠ¸=)âŠ¸/ğ•©}Â¨l
}

main â† {
    (c.Red "Must provide directory") ! 0â‰ â‰ â€¢args
    d â† { "."â‰¡0âŠ‘â€¢args ? â€¢wdpath ; 0âŠ‘â€¢args } # directory
    FormatSingleFileÂ¨ fs.ListRecursiveBQNFiles d
    â€¢Out "All files formatted! ğŸ¥³"
}

main
